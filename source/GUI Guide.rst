图形界面
************************************

本章将介绍BDF图形界面的功能和使用的注意事项。

.. figure:: images/Basic-Tab.png
   :width: 800
   :align: center



上图是启动BDF任务提交界面的初始界面，这儿我们以甲烷分子 :math:`\ce{CH4}` 作为计算对象。

当我们导入分子结构之后，程序首先会识别分子的化学式、电荷数、对称点群等信息。并且根据这些信息来完成一些默认的设置，如Job Title输入框的内容、Input Filename的输入框内容、Multiplicity的输入框内容、Point Group的下拉框选项等。

下面我们对上图的图形界面的控件及其功能一一说明：

 * Job Title：计算任务的标题说明，一般用于备注当前计算的任务类型、分子体系和参数等等。这部分内容并不影响BDF的计算，但是为了养成良好的习惯，也方便将来查询，用户可根据自己的习惯进行一定的备注。例如对于单点能计算，笔者习惯将其备注成 ``SP_CH4_B3LYP-D3/6-31g**`` 。
 * Input Filename：计算任务的文件名，该输入框限制只能输入数字、字母、下划线（_）、加号（+）和减号（-）。例如当前输入为 ``CH4`` ，则软件会自动保存输入文件为 ``CH4.inp`` 。
 * Calculation Type：计算任务的类型，当前的图形界面支持 **Single Point（单点能计算）**、 **Optimization（结构优化）**、 **Frequency（频率计算）**、 **Opt+Freq（结构优化+频率计算）**、 **TDDFT（激发态计算）**、 **TDDFT-SOC（自旋轨道耦合计算）**、 **TDDFT-NAC（非绝热耦合计算）**、 **TDDFT-OPT（激发态结构优化）**、 **TDDFT-OPT（激发态频率计算）**、 **TDDFT-OPT+Freq（激发态结构优化+频率计算）**、 **NMR（核磁共振）** 共计11种计算类型。每一种计算类型都有相关的设置参数，选择对应的计算任务类型之后，程序会激活相应的控制模块。
 * Hamiltonian：计算任务考虑相对论效应时采用的哈密顿量，BDF支持多种相对论效应的计算，具体细节参见 :doc:`Introduction`，考虑到大部分用户的使用习惯和理论基础，当前的图形界面只提供了 **Non-relativistic（非相对论）**， **ECP（赝势）**， **sf-X2C** 和 **X2C** 四种选项。其中 **X2C** 尚未在当前发布的BDF版本中支持，故界面上不允许用户选择，在未来BDF软件更新相关功能之后才会解锁。 **Non-relativistic** 选项表示不考虑相对论效应，此时的哈密顿量也就是我们在教科书上见到的薛定谔方程的形式。 **ECP** 选项表示通过赝势基组的形式考虑相对论效应， **sf-X2C** 表示用无自旋的X2C二分量哈密顿考虑标量相对论效应。
 * Method后面有多个界面控件，第一个下拉选框是计算方法，支持 **Hartree-Fock** , **Korn-Sharm** 和 **MP2** 三种方法，其中 **MP2** 方法当前只支持单点能的计算。第一个下拉选框是计算体系的壳层设置，包括了 **Restricted（闭壳层）** ， **Unrestricted（开壳层）** 和 **Restricted Open（限制性开壳层）** 三种选择，当体系的自旋多重度等于1的时候，默认选择 **Restricted** ，如果用户要做自旋极化单重态的计算，可以选择 **Unrestricted**，并读取三重态计算的波函数作为初猜。 **Use iOI-SCF** 和  **Use FLMO-SCF** 这两个复选框可以选择BDF独有的通过分子分片方法进行大体系自洽场计算的方法，具体的技术细节可以参考 :doc:`FLMOMethod`。由于BDF软件现在只支持用iOI或者FLMO方法做单点的自洽场计算，如果用户要做大体系的结构优化，可以先采用iOI或者FLMO方法先做自洽场计算，然后再读取这一步得到的波函数作为初猜，用常规的HF方法或者DFT方法进行后续的梯度和结构优化计算。
 * Functional：Korn-Sharm计算采用的具体的泛函类型，只有在前面的Method下拉选项为Korn-Sharm的时候才会显示这个界面选项。由于BDF内置的泛函对梯度、激发态响应等支持程度各不相同，为了防止用户选择的泛函和具体的计算任务不匹配，软件会根据用户前面选择的任务类型，只列出支持对应计算的泛函选项。如果该泛函支持D3色散校正，则还会出现 **Use Dispersion Correction** 的复选框，如果勾选该复选框，则表示使用D3色散校正。
 * Basis：计算任务的基组，软件支持全电子基组、赝势基组和自定义混合基组三种选择。如果前面的相对论效应选择的了sf-X2C等全电子相对论计算方法，则此处只能选择专门为相对论计算优化的收缩基组或这些基组的混合形式。PS：def2系列的基组对于轻元素采用的是全电子基组、而对于重元素采用的是赝势基组，这儿根据用户的使用习惯将其放在了非相对论的全电子基组类型中。